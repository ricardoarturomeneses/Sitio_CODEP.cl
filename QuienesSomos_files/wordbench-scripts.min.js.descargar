(function($){"use strict";$(document).ready(function(){if($('body').hasClass('lsvr-accessibility')){$('body').addClass('lsvr-using-keyboard');$(document).on('mousedown',function(){$('body').addClass('lsvr-using-mouse');$('body').removeClass('lsvr-using-keyboard')});$(document).on('keyup',function(e){if(e.key==="Tab"){$('body').addClass('lsvr-using-keyboard');$('body').removeClass('lsvr-using-mouse')}})}if($.fn.masonry&&$.fn.imagesLoaded){$('.lsvr-grid--masonry').each(function(){var $this=$(this),isOriginLeft=$('html').attr('dir')&&'rtl'===$('html').attr('dir')?false:true;$this.imagesLoaded(function(){$this.masonry({isOriginLeft:isOriginLeft})})})}if($.fn.lsvrWordbenchMapLeaflet&&'object'===typeof L){$('.lsvr-map--leaflet .lsvr-map__canvas').each(function(){$(this).lsvrWordbenchMapLeaflet()})}if($.fn.lsvrWordbenchMapGmaps){$('.lsvr-map--gmaps .lsvr-map__canvas').each(function(){$(this).lsvrWordbenchMapGmaps()})}$('.header--sticky').each(function(){var $header=$(this),$placeholder=$('.header-placeholder'),$topbar=$header.find('.header__topbar'),topbarCollapseOffset=30,scrollTop=0;function setHeaderPlaceholder(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){var headerHeight=$header.outerHeight();$placeholder.css('height',headerHeight)}}setHeaderPlaceholder();function toggleHeaderTopbar(){if($topbar.length>0&&!$topbar.hasClass('header__topbar--collapsed')&&$(window).scrollTop()>topbarCollapseOffset&&$(window).scrollTop()>scrollTop){$topbar.addClass('header__topbar--collapsed')}else if($topbar.length>0&&$topbar.hasClass('header__topbar--collapsed')&&$(window).scrollTop()>topbarCollapseOffset&&$(window).scrollTop()<scrollTop){$topbar.removeClass('header__topbar--collapsed')}scrollTop=$(window).scrollTop()}$(window).on('scroll',function(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){toggleHeaderTopbar()}});if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){toggleHeaderTopbar()}$(document).on('lsvrWordbenchScreenTransition',function(){setHeaderPlaceholder();if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){toggleHeaderTopbar()}else{$topbar.removeClass('header__topbar--collapsed')}});$('.back-to-top__link').on('click',function(){$topbar.removeClass('header__topbar--collapsed')})});$('.header-search').each(function(){var $popup=$(this),$toggle=$('.header-search-toggle__button'),$input=$popup.find('.header-search__input'),$filter=$popup.find('.header-search__filter'),$closeButton=$popup.find('.header-search__close-button'),expandPopupLabel=$toggle.data('label-expand-popup'),collapsePopupLabel=$toggle.data('label-collapse-popup');function closeSearch(){$popup.slideUp(100);$toggle.removeClass('header-search__toggle--active');$toggle.attr('title',expandPopupLabel);$toggle.attr('aria-expanded',false);$popup.attr('aria-expanded',false);$('body').removeClass('lsvr-scrolling-disabled')}function refreshSearchFilter(checkbox){if(true===checkbox.prop('checked')||'checked'===checkbox.prop('checked')){checkbox.parent().addClass('header-search__filter-label--active');if(checkbox.attr('id').indexOf('header-search-filter-type-any')>=0){$filter.find('input:not( [id^=header-search-filter-type-any] )').prop('checked',false).trigger('change')}else{$filter.find('input[id^=header-search-filter-type-any]').prop('checked',false).trigger('change')}}else{checkbox.parent().removeClass('header-search__filter-label--active');if($filter.find('input:checked').length<1){$filter.find('input[id^=header-search-filter-type-any]').prop('checked',true).trigger('change')}}}$toggle.on('click',function(){$toggle.toggleClass('header-search__toggle--active');$popup.slideToggle(100);if($toggle.hasClass('header-search__toggle--active')){$input.focus();$toggle.attr('title',collapsePopupLabel).attr('aria-expanded',true);$popup.attr('aria-expanded',true);$('body').addClass('lsvr-scrolling-disabled lsvr-search-expanded')}else{$toggle.attr('title',expandPopupLabel).attr('aria-expanded',false);$popup.attr('aria-expanded',false);$('body').removeClass('lsvr-scrolling-disabled lsvr-search-expanded')}});$filter.find('input').each(function(){refreshSearchFilter($(this));$(this).on('change',function(){refreshSearchFilter($(this))})});$closeButton.on('click',function(){closeSearch()});$(document).on('click.lsvrWordbenchHeaderSearchClosePopupOnClickOutside',function(e){if($popup.is(':visible')){if(!$(e.target).closest('#header').length&&$.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){closeSearch()}}});$(document).on('keyup.lsvrWordbenchHeaderSearchClosePopupOnEscKey',function(e){if(e.key==="Escape"&&$.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){closeSearch()}});$(document).on('lsvrWordbenchScreenTransition',function(){$popup.removeAttr('style').attr('aria-expanded',false);$toggle.removeClass('header-search__toggle--active').attr('title',expandPopupLabel).attr('aria-expanded',false);$(document).off('click.lsvrWordbenchHeaderSearchClosePopupOnClickOutside')})});$('.header-menu-primary').each(function(){var $this=$(this),expandPopupLabel=$this.data('label-expand-popup'),collapsePopupLabel=$this.data('label-collapse-popup');function resetMenu(){$this.find('.header-menu-primary__item').removeClass('header-menu-primary__item--hover header-menu-primary__item--active');$this.find('.header-menu-primary__item-link').attr('aria-expanded',false);$this.find('.header-menu-primary__item-link-indicator').removeAttr('style');$this.find('.header-menu-primary__submenu-wrapper').removeClass('header-menu-primary__submenu-wrapper--hover').removeAttr('style').attr('aria-expanded',false);$this.find('.header-menu-primary__submenu-toggle').removeClass('header-menu-primary__submenu-toggle--active').attr('title',expandPopupLabel).attr('aria-expanded',false)}function initMobile(){$this.find('.header-menu-primary__item-link').each(function(){if($(this).attr('aria-controls')){$(this).attr('data-aria-controls',$(this).attr('aria-controls')).removeAttr('aria-controls').removeAttr('aria-owns').removeAttr('aria-haspopup').removeAttr('aria-expanded')}})}function initDesktop(){$this.find('.header-menu-primary__item-link').each(function(){if($(this).attr('data-aria-controls')){$(this).attr('aria-controls',$(this).attr('data-aria-controls')).attr('aria-owns',$(this).attr('data-aria-controls')).attr('aria-haspopup',true).attr('aria-expanded',false)}})}if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()<992){initMobile()}$this.find('.header-menu-primary__submenu-wrapper').each(function(){var $submenu=$(this),$parent=$submenu.parent(),$toggle=$parent.find('> .header-menu-primary__submenu-toggle'),$link=$parent.find('> .header-menu-primary__item-link'),$indicator=$link.find('> .header-menu-primary__item-link-indicator'),type=$link.closest('.header-menu-primary__item--megamenu').length>0?'megamenu':'dropdown';function desktopShowSubmenu(){$submenu.stop().fadeIn(150);$indicator.stop().fadeIn(150);$submenu.addClass('header-menu-primary__submenu-wrapper--hover');$submenu.attr('aria-expanded',true);$parent.addClass('header-menu-primary__item--hover');$link.attr('aria-expanded',true)}function desktopHideSubmenu(){$submenu.stop().fadeOut(150);$indicator.stop().fadeOut(150);$submenu.removeClass('header-menu-primary__submenu-wrapper--hover');$submenu.attr('aria-expanded',false);$parent.removeClass('header-menu-primary__item--hover');$link.attr('aria-expanded',false)}function mobileShowSubmenu(){$submenu.slideDown(150);$submenu.attr('aria-expanded',true);$parent.addClass('header-menu-primary__item--active');$toggle.attr('title',collapsePopupLabel).attr('aria-expanded',true)}function mobileHideSubmenu(){$submenu.slideUp(150);$submenu.attr('aria-expanded',false);$parent.removeClass('header-menu-primary__item--active');$toggle.attr('title',expandPopupLabel).attr('aria-expanded',false)}function resetSiblings(){$parent.siblings('.header-menu-primary__item.header-menu-primary__item--hover').each(function(){$(this).removeClass('header-menu-primary__item--hover');$(this).find('.header-menu-primary__item--hover').removeClass('header-menu-primary__item--hover');$(this).find('.header-menu-primary__submenu-wrapper').removeAttr('style');$(this).find('.header-menu-primary__item-link-indicator').removeAttr('style');$(this).find('.header-menu-primary__item-link').attr('aria-expanded',false);$(this).find('.header-menu-primary__submenu-wrapper').attr('aria-expanded',false)})}if(('dropdown'===type&&($submenu.hasClass('header-menu-primary__submenu-wrapper--level-0')||$submenu.hasClass('header-menu-primary__submenu-wrapper--level-1')))||('megamenu'===type&&$submenu.hasClass('header-menu-primary__submenu-wrapper--level-0'))){$parent.on('mouseover focus',function(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){desktopShowSubmenu()}});$parent.on('mouseleave blur',function(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){desktopHideSubmenu()}});$link.on('touchstart',function(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199&&!$parent.hasClass('header-menu-primary__item--hover')){resetSiblings();desktopShowSubmenu();$('html').on('touchstart.lsvrWordbenchHeaderMenuPrimaryCloseSubmenuOnClickOutside',function(e){if(!$(e.target).closest('.header-menu-primary').length&&$.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){desktopHideSubmenu();$('html').unbind('touchstart.lsvrWordbenchHeaderMenuPrimaryCloseSubmenuOnClickOutside')}});return false}});$link.on('click',function(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199&&!$parent.hasClass('header-menu-primary__item--hover')){resetSiblings();desktopShowSubmenu();return false}})}$toggle.on('click',function(){$toggle.toggleClass('header-menu-primary__submenu-toggle--active');if($toggle.hasClass('header-menu-primary__submenu-toggle--active')){mobileShowSubmenu()}else{mobileHideSubmenu()}})});$(document).on('keyup.lsvrWordbenchHeaderMenuPrimaryCloseSubmenuOnEscKey',function(e){if(e.key==="Escape"){if($('*:focus').closest('.header-menu-primary__item--hover, .header-menu-primary__item--active').length>0){$('*:focus').closest('.header-menu-primary__item--hover, .header-menu-primary__item--active').each(function(){$(this).removeClass('header-menu-primary__item--hover header-menu-primary__item--active');$(this).find('.header-menu-primary__item-link-indicator').hide();$(this).find('> .header-menu-primary__submenu-wrapper').hide();$(this).find('> .header-menu-primary__submenu-wrapper').attr('aria-expanded',false);$(this).find('> .header-menu-primary__submenu-toggle').removeClass('header-menu-primary__submenu-toggle--active').attr('title',expandPopupLabel).attr('aria-expanded',false);if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){$(this).find('> .header-menu-primary__item-link').attr('aria-expanded',false);$(this).find('> .header-menu-primary__item-link').focus()}else{$(this).find('> .header-menu-primary__submenu-toggle').focus()}})}else{$('.header-menu-primary__item--hover, .header-menu-primary__item--active').each(function(){$(this).removeClass('header-menu-primary__item--hover header-menu-primary__item--active');$(this).find('.header-menu-primary__item-link-indicator').hide();$(this).find('> .header-menu-primary__submenu-wrapper').hide();$(this).find('> .header-menu-primary__submenu-wrapper').attr('aria-expanded',false);$(this).find('> .header-menu-primary__submenu-toggle').removeClass('header-menu-primary__submenu-toggle--active').attr('title',expandPopupLabel).attr('aria-expanded',false);if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){$(this).find('> .header-menu-primary__item-link').attr('aria-expanded',false)}})}}});$(document).on('lsvrWordbenchScreenTransition',function(){resetMenu();if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){initDesktop()}else{initMobile()}})});$('#header').each(function(){var $header=$(this),$searchToggle=$header.find('.header-mobile-search-toggle'),$menuToggle=$header.find('.header-mobile-menu-toggle'),$search=$header.find('.header-search'),$menu=$header.find('.header__navbar-menu'),$languages=$header.find('.header-menu-languages'),$secondaryMenu=$header.find('.header-menu-secondary'),$socialLinks=$header.find('.header-social'),expandSearchPopupLabel=$searchToggle.data('label-expand-popup'),collapseSearchPopupLabel=$searchToggle.data('label-collapse-popup'),expandMenuPopupLabel=$menuToggle.data('label-expand-popup'),collapseMenuPopupLabel=$menuToggle.data('label-collapse-popup');var initDesktop=function(){$search.insertBefore('.header__navbar')};var initMobile=function(){$search.appendTo('.header__navbar-inner');if($menu.find('.header-menu-languages').length<1){$languages.clone().appendTo($menu)}if($menu.find('.header-menu-secondary').length<1){$secondaryMenu.clone().appendTo($menu)}if($menu.find('.header-social').length<1){$socialLinks.clone().appendTo($menu)}};var resetHeader=function(){$searchToggle.removeClass('header-mobile-search-toggle--active');$searchToggle.attr('aria-expanded',false).attr('title',expandSearchPopupLabel);$search.removeAttr('style');$search.attr('aria-expanded',false);$menuToggle.removeClass('header-mobile-menu-toggle--active');$menuToggle.attr('aria-expanded',false).attr('title',expandMenuPopupLabel);$menu.removeAttr('style');$menu.attr('aria-expanded',false);$menu.find('.header-menu-languages').remove();$menu.find('.header-menu-secondary').remove();$menu.find('.header-social').remove()};var openSearch=function(){$searchToggle.addClass('header-mobile-search-toggle--active');$searchToggle.attr('aria-expanded',true).attr('title',collapseSearchPopupLabel);$search.slideDown(200,function(){$search.find('.header-search__input').focus()});$search.attr('aria-expanded',true);closeMenu()};var closeSearch=function(){$searchToggle.removeClass('header-mobile-search-toggle--active');$searchToggle.attr('aria-expanded',false).attr('title',expandSearchPopupLabel);$search.slideUp(200);$search.attr('aria-expanded',false)};var openMenu=function(){$menuToggle.addClass('header-mobile-menu-toggle--active');$menuToggle.attr('aria-expanded',true).attr('title',collapseMenuPopupLabel);$menu.slideDown(200);$menu.attr('aria-expanded',true);closeSearch()};var closeMenu=function(){$menuToggle.removeClass('header-mobile-menu-toggle--active');$menuToggle.attr('aria-expanded',false).attr('title',expandMenuPopupLabel);$menu.slideUp(200);$menu.attr('aria-expanded',false)};$searchToggle.on('click',function(){$(this).toggleClass('header-mobile-search-toggle--active');if($(this).hasClass('header-mobile-search-toggle--active')){openSearch()}else{closeSearch()}});$menuToggle.on('click',function(){$(this).toggleClass('header-mobile-menu-toggle--active');if($(this).hasClass('header-mobile-menu-toggle--active')){openMenu()}else{closeMenu()}});if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()<1200){initMobile()}$(document).on('lsvrWordbenchScreenTransition',function(){resetHeader();if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){initDesktop()}else{initMobile()}})});$('.main-image--parallax').each(function(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){var $wrapper=$(this),$image=$(this).find('.main-image__inner'),wrapperHeight=$wrapper.height(),initialOffset=$wrapper.offset().top,parallaxSpeed=parseInt($wrapper.data('parallax-speed'));var doParallax=function(scrollTop){$image.css('top',(scrollTop-initialOffset)/parallaxSpeed)};var resetParallax=function(){$image.css('top',0)};if($(window).scrollTop()>initialOffset){doParallax($(window).scrollTop())}$(window).scroll(function(){var scrollTop=$(this).scrollTop();if(scrollTop>initialOffset&&(scrollTop-initialOffset)<wrapperHeight){doParallax(scrollTop)}else if(scrollTop<=initialOffset){resetParallax()}});$(document).on('lsvrWordbenchScreenTransition',function(){resetParallax()})}});$('.lsvr_document-attachments').each(function(){var expandSubmenuLabel=$(this).data('label-expand-submenu'),collapseSubmenuLabel=$(this).data('label-collapse-submenu');var toggleChildren=function($toggle,$parent,$children){$toggle.toggleClass('lsvr_document-attachments__item-toggle--active');$parent.toggleClass('lsvr_document-attachments__item--active');$children.slideToggle(200);if($toggle.hasClass('lsvr_document-attachments__item-toggle--active')){$toggle.attr('aria-label',collapseSubmenuLabel);$toggle.attr('aria-expanded',true);$children.attr('aria-expanded',true)}else{$toggle.attr('aria-label',expandSubmenuLabel);$toggle.attr('aria-expanded',false);$children.attr('aria-expanded',false)}};$(this).find('.lsvr_document-attachments__item-toggle').each(function(){var $toggle=$(this),$parent=$(this).parent(),$children=$parent.find('> .lsvr_document-attachments__children');$toggle.on('click',function(){toggleChildren($toggle,$parent,$children)});$parent.find('> .lsvr_document-attachments__item-link-holder--folder').each(function(){$(this).on('click',function(e){toggleChildren($toggle,$parent,$children)});$(this).find('> .lsvr_document-attachments__item-link').on('click',function(e){e.stopPropagation()})})})});$('.post-archive-filter').each(function(){var $this=$(this),$form=$this.find('.post-archive-filter__form'),$resetButton=$this.find('.post-archive-filter__reset-button');if($.fn.datepicker){$this.find('.post-archive-filter__input--datepicker').each(function(){var $datepicker=$(this);$datepicker.datepicker({dateFormat:'yy-mm-dd',beforeShow:function(){$('#ui-datepicker-div').addClass('lsvr-datepicker')}});$datepicker.parent().on('click',function(){$datepicker.datepicker('show')})})}$resetButton.on('click',function(){$this.find('.post-archive-filter__input--datepicker').each(function(){$(this).val('')});$form.submit()})});$('.lsvr_faq-post-archive .post-archive__list--expandable').each(function(){var expandSubmenuLabel=$(this).data('label-expand-submenu'),collapseSubmenuLabel=$(this).data('label-collapse-submenu');$(this).find('.post').each(function(){var $post=$(this),$title=$post.find('.post__title'),$content=$post.find('.post__content-wrapper'),$toggle=$post.find('.post__header-toggle');var toggleAccordion=function(){$content.slideToggle(200);$post.toggleClass('post--expanded');$toggle.toggleClass('post__header-toggle--active');if($post.hasClass('post--expanded')){$toggle.attr('aria-label',collapseSubmenuLabel);$toggle.attr('aria-expanded',true);$content.attr('aria-expanded',true)}else{$toggle.attr('aria-label',expandSubmenuLabel);$toggle.attr('aria-expanded',false);$content.attr('aria-expanded',false)}};$title.on('click',toggleAccordion);$toggle.on('click',toggleAccordion)})});$('.lsvr_project-post-archive--photogrid .post').each(function(){var $post=$(this),$container=$post.find('.post__container'),containerHeight=$container.outerHeight(),$overlayLink=$post.find('.post__overlay-link');function mouseOver(){$post.css('background-position-y','-'+containerHeight+'px');$container.css('margin-top','-'+containerHeight+'px')}function mouseLeave(){$post.css('background-position-y','center');$container.css('margin-top','0');$overlayLink.removeClass('post__overlay-link--active')}$post.on('mouseover focus',function(){mouseOver()});$post.on('mouseleave blur',function(){mouseLeave()});$overlayLink.on('click',function(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()<=991&&!$(this).hasClass('post__overlay-link--active')){$(this).addClass('post__overlay-link--active');mouseOver();return false}});$(document).on('click.lsvrWordbenchPortfolioPhotogridCloseOnClickOutside',function(e){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()<=991&&$overlayLink.hasClass('post__overlay-link--active')&&!$(e.target).closest('.post').length){mouseLeave()}});$(document).on('lsvrWordbenchScreenTransition',function(){$post.css('background-position-y','center');$container.removeAttr('style');containerHeight=$container.outerHeight();$overlayLink.removeClass('post__overlay-link--active')})});$('#footer').each(function(){var $footer=$(this),$html=$('html'),$wrapper=$('#wrapper');var fixedFooter=function(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199&&$html.height()>$wrapper.height()){$footer.addClass('footer--fixed')}else{$footer.removeClass('footer--fixed')}};fixedFooter();$(document).on('lsvrWordbenchScreenTransition',function(){fixedFooter()})});$('.lsvr-wordbench-post-grid--faq').each(function(){var $section=$(this);$section.find('.lsvr-wordbench-post-grid__list').each(function(){var $list=$(this),expandSubmenuLabel=$list.data('label-expand-submenu'),collapseSubmenuLabel=$list.data('label-collapse-submenu');$list.find('.lsvr-wordbench-post-grid__post').each(function(){var $post=$(this),$title=$post.find('.lsvr-wordbench-post-grid__post-title'),$content=$post.find('.lsvr-wordbench-post-grid__post-content-wrapper'),$toggle=$post.find('.lsvr-wordbench-post-grid__post-header-toggle');var toggleAccordion=function(){$content.slideToggle(200);$post.toggleClass('lsvr-wordbench-post-grid__post--expanded');$toggle.toggleClass('lsvr-wordbench-post-grid__post-header-toggle--active');if($post.hasClass('lsvr-wordbench-post-grid__post--expanded')){$toggle.attr('aria-label',collapseSubmenuLabel);$toggle.attr('aria-expanded',true);$content.attr('aria-expanded',true)}else{$toggle.attr('aria-label',expandSubmenuLabel);$toggle.attr('aria-expanded',false);$content.attr('aria-expanded',false)}};$title.on('click',toggleAccordion);$toggle.on('click',toggleAccordion)})})});$('.lsvr-wordbench-hero--has-parallax').each(function(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()>1199){var $wrapper=$(this),$image=$(this).find('.lsvr-wordbench-hero__bg'),wrapperHeight=$wrapper.height(),initialOffset=$wrapper.offset().top,parallaxSpeed=parseInt($wrapper.data('parallax-speed'));var doParallax=function(scrollTop){$image.css('top',(scrollTop-initialOffset)/parallaxSpeed)};var resetParallax=function(){$image.css('top',0)};if($(window).scrollTop()>initialOffset){doParallax($(window).scrollTop())}$(window).scroll(function(){var scrollTop=$(this).scrollTop();if(scrollTop>initialOffset&&(scrollTop-initialOffset)<wrapperHeight){doParallax(scrollTop)}else if(scrollTop<=initialOffset){resetParallax()}});$(document).on('lsvrWordbenchScreenTransition',function(){resetParallax()})}});$('.lsvr-wordbench-hero--has-search-panel .lsvr-wordbench-hero__search').each(function(){var $search=$(this),$popup=$search.find('.lsvr-wordbench-hero__search-panel'),$input=$search.find('.lsvr-wordbench-hero__search-input'),$filter=$search.find('.lsvr-wordbench-hero__search-filter'),$filterToggle=$search.find('.lsvr-wordbench-hero__search-filter-toggle');var showPopup=function(){if(!$search.hasClass('lsvr-wordbench-hero__search--expanded')){$search.addClass('lsvr-wordbench-hero__search--expanded');$popup.slideDown(100);$popup.attr('aria-expanded',true)}};var closePopup=function(){$search.removeClass('lsvr-wordbench-hero__search--expanded');$popup.slideUp(100,function(){$(this).removeAttr('style')});$popup.attr('aria-expanded',false);$input.blur()};var showFilter=function(){if($search.hasClass('lsvr-wordbench-hero__search--expanded')){$filter.slideDown(100)}else{showPopup();$filter.show()}$filterToggle.addClass('lsvr-wordbench-hero__search-filter-toggle--active');$search.addClass('lsvr-wordbench-hero__search--filter-expanded')};var closeFilter=function(){if($popup.find('.lsvr-wordbench-hero__search-results').length>0){$filter.slideUp(100)}else{closePopup();$filter.hide()}$filterToggle.removeClass('lsvr-wordbench-hero__search-filter-toggle--active');$search.removeClass('lsvr-wordbench-hero__search--filter-expanded');resetSearchFilter()};var resetSearchFilter=function(){$filter.find('lsvr-wordbench-hero__search-filter-label--active').removeClass('lsvr-wordbench-hero__search-filter-label--active');$filter.find('input').prop('checked',false).trigger('change');$filter.find('input[id^=lsvr-wordbench-hero__search-filter-type-any]').parent().addClass('lsvr-wordbench-hero__search-filter-label--active');$filter.find('input[id^=lsvr-wordbench-hero__search-filter-type-any]').prop('checked',true).trigger('change')};resetSearchFilter();var refreshSearchFilter=function(checkbox){if(true===checkbox.prop('checked')||'checked'===checkbox.prop('checked')){checkbox.parent().addClass('lsvr-wordbench-hero__search-filter-label--active');if(checkbox.attr('id').indexOf('lsvr-wordbench-hero__search-filter-type-any')>=0){$filter.find('input:not( [id^=lsvr-wordbench-hero__search-filter-type-any] )').prop('checked',false).trigger('change')}else{$filter.find('input[id^=lsvr-wordbench-hero__search-filter-type-any]').prop('checked',false).trigger('change')}}else{checkbox.parent().removeClass('lsvr-wordbench-hero__search-filter-label--active');if($filter.find('input:checked').length<1){$filter.find('input[id^=lsvr-wordbench-hero__search-filter-type-any]').prop('checked',true).trigger('change')}}};$(document).on('lsvrWordbenchAjaxSearchCompleted',function(){if($input.is(':focus')&&$popup.find('.lsvr-wordbench-hero__search-results').length>0){showPopup()}});$input.on('focus',function(){if($popup.find('.lsvr-wordbench-hero__search-results').length>0||$search.hasClass('lsvr-wordbench-hero__search--filter-expanded')){showPopup()}});$filterToggle.on('click',function(){if($search.hasClass('lsvr-wordbench-hero__search--filter-expanded')&&$filter.is(':visible')){closeFilter()}else{showFilter()}});$filter.find('input').each(function(){refreshSearchFilter($(this));$(this).on('change',function(){refreshSearchFilter($(this))})});$(document).on('click.lsvrWordbenchHeroSearchClosePopupOnClickOutside',function(e){if($popup.is(':visible')){if(!$(e.target).closest('.lsvr-wordbench-hero__search-form').length){closePopup()}}});$(document).on('keyup.lsvrWordbenchHeroSearchClosePopupOnEscKey',function(e){if(e.key==="Escape"&&$.fn.lsvrWordbenchGetMediaQueryBreakpoint()>991){closePopup()}});$(document).on('lsvrWordbenchScreenTransition',function(){closePopup()})});$('.lsvr-wordbench-post-grid--portfolio.lsvr-wordbench-post-grid--layout-custom-photogrid .lsvr-wordbench-post-grid__post').each(function(){var $post=$(this),$postBg=$post.find('.lsvr-wordbench-post-grid__post-bg'),$container=$post.find('.lsvr-wordbench-post-grid__post-container'),containerHeight=$container.outerHeight(),$overlayLink=$post.find('.lsvr-wordbench-post-grid__post-overlay-link');function mouseOver(){$postBg.css('background-position-y','-'+containerHeight+'px');$container.css('margin-top','-'+containerHeight+'px')}function mouseLeave(){$postBg.css('background-position-y','center');$container.css('margin-top','0');$overlayLink.removeClass('lsvr-wordbench-post-grid__post-overlay-link--active')}$post.on('mouseover focus',function(){mouseOver()});$post.on('mouseleave blur',function(){mouseLeave()});$overlayLink.on('click',function(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()<=991&&!$(this).hasClass('lsvr-wordbench-post-grid__post-overlay-link--active')){$(this).addClass('lsvr-wordbench-post-grid__post-overlay-link--active');mouseOver();return false}});$(document).on('click.lsvrWordbenchPortfolioPhotogridCloseOnClickOutside',function(e){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()<=991&&$overlayLink.hasClass('lsvr-wordbench-post-grid__post-overlay-link--active')&&!$(e.target).closest('.post').length){mouseLeave()}});$(document).on('lsvrWordbenchScreenTransition',function(){$postBg.css('background-position-y','center');$container.removeAttr('style');containerHeight=$container.outerHeight();$overlayLink.removeClass('lsvr-wordbench-post-grid__post-overlay-link--active')})});$('.lsvr-wordbench-sitemap--has-search-panel .lsvr-wordbench-sitemap__search').each(function(){var $search=$(this),$popup=$search.find('.lsvr-wordbench-sitemap__search-panel'),$input=$search.find('.lsvr-wordbench-sitemap__search-input'),$filter=$search.find('.lsvr-wordbench-sitemap__search-filter'),$filterToggle=$search.find('.lsvr-wordbench-sitemap__search-filter-toggle');var showPopup=function(){if(!$search.hasClass('lsvr-wordbench-sitemap__search--expanded')){$search.addClass('lsvr-wordbench-sitemap__search--expanded');$popup.slideDown(100);$popup.attr('aria-expanded',true)}};var closePopup=function(){$search.removeClass('lsvr-wordbench-sitemap__search--expanded');$popup.slideUp(100,function(){$(this).removeAttr('style')});$popup.attr('aria-expanded',false);$input.blur()};var showFilter=function(){if($search.hasClass('lsvr-wordbench-sitemap__search--expanded')){$filter.slideDown(100)}else{showPopup();$filter.show()}$filterToggle.addClass('lsvr-wordbench-sitemap__search-filter-toggle--active');$search.addClass('lsvr-wordbench-sitemap__search--filter-expanded')};var closeFilter=function(){if($popup.find('.lsvr-wordbench-sitemap__search-results').length>0){$filter.slideUp(100)}else{closePopup();$filter.hide()}$filterToggle.removeClass('lsvr-wordbench-sitemap__search-filter-toggle--active');$search.removeClass('lsvr-wordbench-sitemap__search--filter-expanded');resetSearchFilter()};var resetSearchFilter=function(){$filter.find('lsvr-wordbench-sitemap__search-filter-label--active').removeClass('lsvr-wordbench-sitemap__search-filter-label--active');$filter.find('input').prop('checked',false).trigger('change');$filter.find('input[id^=lsvr-wordbench-sitemap__search-filter-type-any]').parent().addClass('lsvr-wordbench-sitemap__search-filter-label--active');$filter.find('input[id^=lsvr-wordbench-sitemap__search-filter-type-any]').prop('checked',true).trigger('change')};resetSearchFilter();var refreshSearchFilter=function(checkbox){if(true===checkbox.prop('checked')||'checked'===checkbox.prop('checked')){checkbox.parent().addClass('lsvr-wordbench-sitemap__search-filter-label--active');if(checkbox.attr('id').indexOf('lsvr-wordbench-sitemap__search-filter-type-any')>=0){$filter.find('input:not( [id^=lsvr-wordbench-sitemap__search-filter-type-any] )').prop('checked',false).trigger('change')}else{$filter.find('input[id^=lsvr-wordbench-sitemap__search-filter-type-any]').prop('checked',false).trigger('change')}}else{checkbox.parent().removeClass('lsvr-wordbench-sitemap__search-filter-label--active');if($filter.find('input:checked').length<1){$filter.find('input[id^=lsvr-wordbench-sitemap__search-filter-type-any]').prop('checked',true).trigger('change')}}};$(document).on('lsvrWordbenchAjaxSearchCompleted',function(){if($input.is(':focus')&&$popup.find('.lsvr-wordbench-sitemap__search-results').length>0){showPopup()}});$input.on('focus',function(){if($popup.find('.lsvr-wordbench-sitemap__search-results').length>0||$search.hasClass('lsvr-wordbench-sitemap__search--filter-expanded')){showPopup()}});$filterToggle.on('click',function(){if($search.hasClass('lsvr-wordbench-sitemap__search--filter-expanded')&&$filter.is(':visible')){closeFilter()}else{showFilter()}});$filter.find('input').each(function(){refreshSearchFilter($(this));$(this).on('change',function(){refreshSearchFilter($(this))})});$(document).on('click.lsvrWordbenchSitemapSearchClosePopupOnClickOutside',function(e){if($popup.is(':visible')){if(!$(e.target).closest('.lsvr-wordbench-sitemap__search-form').length){closePopup()}}});$(document).on('keyup.lsvrWordbenchSitemapSearchClosePopupOnEscKey',function(e){if(e.key==="Escape"&&$.fn.lsvrWordbenchGetMediaQueryBreakpoint()>991){closePopup()}});$(document).on('lsvrWordbenchScreenTransition',function(){closePopup()})});$('.lsvr-wordbench-slider').each(function(){var $this=$(this),$slides=$this.find('.lsvr-wordbench-slider__item'),$active=$slides.first(),$prevBtn=$this.find('.lsvr-wordbench-slider__nav-button--prev'),$nextBtn=$this.find('.lsvr-wordbench-slider__nav-button--next'),$navigationButtons=$this.find('.lsvr-wordbench-slider__nav-item-button'),autoplay=$this.attr('data-autoplay')?parseInt($this.attr('data-autoplay')):0,$next;$active.addClass('lsvr-wordbench-slider__item--active');$this.addClass('lsvr-wordbench-slider--active-item-style-'+$active.data('style'));$this.removeClass('lsvr-wordbench-slider--loading');function slide(direction){if(direction===parseInt(direction,10)){$next=$this.find('.lsvr-wordbench-slider__item:nth-child( '+(direction+1)+' )')}else if('prev'===direction){if($active.prev().length>0){$next=$active.prev()}else{$next=$slides.last()}}else{if($active.next().length>0){$next=$active.next()}else{$next=$slides.first()}}if($this.hasClass('lsvr-wordbench-slider--animated')&&$.fn.lsvrWordbenchGetMediaQueryBreakpoint()>991){$this.addClass('lsvr-wordbench-slider--animation-in-progress');if($next.index()>$active.index()){$this.addClass('lsvr-wordbench-slider--animation-next')}else{$this.addClass('lsvr-wordbench-slider--animation-prev')}$next.addClass('lsvr-wordbench-slider__item--next lsvr-wordbench-slider__item--animate-in');$active.addClass('lsvr-wordbench-slider__item--animate-out');setTimeout(function(){$this.removeClass('lsvr-wordbench-slider--active-item-style-'+$active.data('style'));$this.addClass('lsvr-wordbench-slider--active-item-style-'+$next.data('style'));$this.find('.lsvr-wordbench-slider__nav-item-button--active').removeClass('lsvr-wordbench-slider__nav-item-button--active');$this.find('.lsvr-wordbench-slider__nav-item:nth-child( '+($next.index()+1)+' ) .lsvr-wordbench-slider__nav-item-button').addClass('lsvr-wordbench-slider__nav-item-button--active')},500);setTimeout(function(){$next.removeClass('lsvr-wordbench-slider__item--next lsvr-wordbench-slider__item--animate-in');$next.addClass('lsvr-wordbench-slider__item--active');$active.removeClass('lsvr-wordbench-slider__item--active lsvr-wordbench-slider__item--animate-out');$active=$next;$this.removeClass('lsvr-wordbench-slider--animation-in-progress lsvr-wordbench-slider--animation-next lsvr-wordbench-slider--animation-prev')},1000)}else{$this.removeClass('lsvr-wordbench-slider--active-item-style-'+$active.data('style'));$this.addClass('lsvr-wordbench-slider--active-item-style-'+$next.data('style'));$this.find('.lsvr-wordbench-slider__nav-item-button--active').removeClass('lsvr-wordbench-slider__nav-item-button--active');$this.find('.lsvr-wordbench-slider__nav-item:nth-child( '+($next.index()+1)+' ) .lsvr-wordbench-slider__nav-item-button').addClass('lsvr-wordbench-slider__nav-item-button--active');$next.addClass('lsvr-wordbench-slider__item--active');$active.removeClass('lsvr-wordbench-slider__item--active');$active=$next}}$navigationButtons.each(function(){$(this).on('click',function(){if(!$(this).hasClass('lsvr-wordbench-slider__nav-item-button--active')&&!$this.hasClass('lsvr-wordbench-slider--animation-in-progress')){slide($(this).parent().index())}})});$nextBtn.on('click',function(){if(!$this.hasClass('lsvr-wordbench-slider--animation-in-progress')){slide('next')}});$prevBtn.on('click',function(){if(!$this.hasClass('lsvr-wordbench-slider--animation-in-progress')){slide('prev')}});var autoplayTimeout;function startAutoplay(delay){autoplayTimeout=setTimeout(function(){slide('next');startAutoplay(delay)},delay*1000)}if(autoplay>0){startAutoplay(autoplay);$this.on('mouseenter',function(e){clearTimeout(autoplayTimeout)});$this.on('mouseleave',function(e){startAutoplay(autoplay)})}});if('undefined'!==typeof PhotoSwipe){$('.pswp').each(function(){var $lightbox=$(this),$imageLinks=$('.lsvr-open-in-lightbox'),parsedImages=[],$img,gallery,options;if($imageLinks.length>0){$imageLinks.each(function(){$img=$(this).find('img');if($img.data('large-width')&&$img.data('large-height')){parsedImages.push({src:$(this).attr('href'),w:$img.data('large-width'),h:$img.data('large-height'),msrc:$img.attr('src'),title:$(this).attr('title')?$(this).attr('title'):''})}})}if(parsedImages.length>0){$imageLinks.each(function(){$(this).on('click',function(){options={closeOnScroll:false,history:false,errorMsg:'undefined'!==typeof lsvr_wordbench_js_labels&&lsvr_wordbench_js_labels.hasOwnProperty('photoswipe')?'<div class="pswp__error-msg">'+lsvr_wordbench_js_labels.photoswipe.loading_error+'</div>':'',index:$(this).data('index')?$(this).data('index'):$(this).parent().index(),getThumbBoundsFn:function(index){var thumbnail=$imageLinks.eq(index).find('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width}}};gallery=new PhotoSwipe($lightbox[0],PhotoSwipeUI_Default,parsedImages,options);gallery.init();return false})})}})}})})(jQuery);(function($){"use strict";if(!$.fn.lsvrWordbenchGetMediaQueryBreakpoint){$.fn.lsvrWordbenchGetMediaQueryBreakpoint=function(){if($('#lsvr-media-query-breakpoint').length<1){$('body').append('<span id="lsvr-media-query-breakpoint" style="display: none;"></span>')}var value=$('#lsvr-media-query-breakpoint').css('font-family');if(typeof value!=='undefined'){value=value.replace("\"","").replace("\"","").replace("\'","").replace("\'","")}if(isNaN(value)){return $(window).width()}else{return parseInt(value)}}}var lsvrWordbenchMediaQueryBreakpoint;if($.fn.lsvrWordbenchGetMediaQueryBreakpoint){lsvrWordbenchMediaQueryBreakpoint=$.fn.lsvrWordbenchGetMediaQueryBreakpoint();$(window).on('resize',function(){if($.fn.lsvrWordbenchGetMediaQueryBreakpoint()!==lsvrWordbenchMediaQueryBreakpoint){lsvrWordbenchMediaQueryBreakpoint=$.fn.lsvrWordbenchGetMediaQueryBreakpoint();$.event.trigger({type:'lsvrWordbenchScreenTransition',message:'Screen transition completed.',time:new Date()})}})}else{lsvrWordbenchMediaQueryBreakpoint=$(document).width()}if(!$.fn.lsvrWordbenchMapLeaflet){$.fn.lsvrWordbenchMapLeaflet=function(){var $this=$(this),mapProvider=$this.data('map-provider')?$this.data('map-provider'):'osm',zoom=$this.data('zoom')?$this.data('zoom'):17,enableMouseWheel=$this.data('mousewheel')&&true===String($this.data('mousewheel'))?true:false,elementId=$this.attr('id'),latLong=$this.data('latlong')?$this.data('latlong'):false,latitude=false,longitude=false;if(false!==latLong){var latLongArr=latLong.split(',');if(latLongArr.length==2){latitude=latLongArr[0].trim();longitude=latLongArr[1].trim()}}if(false!==latitude&&false!==longitude){var mapOptions={center:[latitude,longitude],zoom:zoom,scrollWheelZoom:enableMouseWheel};var map=L.map(elementId,mapOptions);$this.data('map',map);if('mapbox'===mapProvider){var apiKey=typeof lsvr_wordbench_mapbox_api_key!=='undefined'?lsvr_wordbench_mapbox_api_key:false;if(false!==apiKey){L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token='+apiKey,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',id:'mapbox/streets-v11',tileSize:512,zoomOffset:-1,accessToken:apiKey}).addTo(map)}}else if('osm'===mapProvider){L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:['a','b','c']}).addTo(map)}var marker=L.divIcon({iconAnchor:[15,40],className:'lsvr-map__marker-wrapper',html:'<div class="lsvr-map__marker"><div class="lsvr-map__marker-inner"></div></div>'});L.marker([latitude,longitude],{icon:marker}).addTo(map);$this.removeClass('lsvr-map__canvas--loading');$this.parent().find('.lsvr-spinner').fadeOut(200,function(){$(this).remove()})}else{$this.hide()}}}if(!$.fn.lsvrWordbenchMapGmaps){$.fn.lsvrWordbenchMapGmaps=function(){var $this=$(this),mapType=$this.data('maptype')?$this.data('maptype'):'terrain',zoom=$this.data('zoom')?$this.data('zoom'):17,enableMouseWheel=$this.data('mousewheel')&&true===String($this.data('mousewheel'))?true:false,elementId=$this.attr('id'),latLong=$this.data('latlong')?$this.data('latlong'):false,latitude=false,longitude=false;if(false!==latLong){var latLongArr=latLong.split(',');if(latLongArr.length==2){latitude=latLongArr[0].trim();longitude=latLongArr[1].trim()}}if($.fn.lsvrWordbenchLoadGoogleMapsApi){$.fn.lsvrWordbenchLoadGoogleMapsApi()}var apiSetup=function(){switch(mapType){case 'roadmap':mapType=google.maps.MapTypeId.ROADMAP;break;case 'satellite':mapType=google.maps.MapTypeId.SATELLITE;break;case 'hybrid':mapType=google.maps.MapTypeId.HYBRID;break;default:mapType=google.maps.MapTypeId.TERRAIN}var mapOptions={'zoom':zoom,'mapTypeId':mapType,'scrollwheel':enableMouseWheel};if('undefined'!==typeof lsvr_wordbench_google_maps_style_json){mapOptions.styles=JSON.parse(lsvr_wordbench_google_maps_style_json)}else if('undefined'!==typeof lsvr_wordbench_google_maps_style){mapOptions.styles=lsvr_wordbench_google_maps_style}var map=new google.maps.Map(document.getElementById(elementId),mapOptions);$this.data('map',map);if(false!==latitude&&false!==longitude){var location=new google.maps.LatLng(latitude,longitude);map.setCenter(location);var marker=new google.maps.Marker({position:location,map:map});$this.removeClass('lsvr-map__canvas--loading');$this.parent().find('.lsvr-spinner').fadeOut(200,function(){$(this).remove()})}else{$this.hide()}};if('object'===typeof google&&'object'===typeof google.maps){apiSetup()}else{$(document).on('lsvrWordbenchGoogleMapsApiLoaded',function(){apiSetup()})}}}if(!$.fn.lsvrWordbenchLoadGoogleMapsApi){$.fn.lsvrWordbenchLoadGoogleMapsApi=function(){if(!$('body').hasClass('lsvr-google-maps-api-loaded')){if('object'===typeof google&&'object'===typeof google.maps){$.fn.lsvrWordbenchGoogleMapsApiLoaded()}else if(!$('body').hasClass('lsvr-google-maps-api-being-loaded')){$('body').addClass('lsvr-google-maps-api-being-loaded');var script=document.createElement('script'),apiKey=typeof lsvr_wordbench_google_api_key!=='undefined'?lsvr_wordbench_google_api_key:false,language=$('html').attr('lang')?$('html').attr('lang'):'en';language=language.indexOf('-')>0?language.substring(0,language.indexOf('-')):language;if(apiKey!==false){script.type='text/javascript';script.src='https://maps.googleapis.com/maps/api/js?language='+encodeURIComponent(language)+'&key='+encodeURIComponent(apiKey)+'&callback=jQuery.fn.lsvrWordbenchGoogleMapsApiLoaded';document.body.appendChild(script)}}}}}if(!$.fn.lsvrWordbenchGoogleMapsApiLoaded){$.fn.lsvrWordbenchGoogleMapsApiLoaded=function(){if('object'===typeof google&&'object'===typeof google.maps){$.event.trigger({type:'lsvrWordbenchGoogleMapsApiLoaded',message:'Google Maps API is ready.',time:new Date()});$('body').removeClass('lsvr-google-maps-api-being-loaded');$('body').addClass('lsvr-google-maps-api-loaded')}}}})(jQuery);